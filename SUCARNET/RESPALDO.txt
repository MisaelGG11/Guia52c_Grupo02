<%@ page language="java" contentType="text/html; charset=ISO-8859-1"

<%@ page import="java.net.URL, java.util.*" %>


<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>JSP: setStatus and setHeader</title>
</head>
<body>

<%-- definicion del metodo setStatus response --%>
<form>
  <h3>HTTP 200 Response.setStatus</h3>
<table>
<tr>
<td>Digite el nombre del dominio : <br> Ejemplo:
( youtube, google ) <br></td>
<td><input type="text" name="webAdd"/></td>
<br>
</tr>
<tr>
<td>Digite el dominio del sitio web : <br> Ejemplo:
( com, net, in )</td>
<td><input type="text" name="domain"/></td>
</tr>
<tr>
<td></td><td><input type="submit" value="submit"/></td>
</tr>
</table>
</form>
<br>
<br><br>

<%-- definicion del metodo setHeader response --%>
<h3>Content-Type Response.setHeader</h3>

<h4>Digita tu nombre: </h4>
<input type="text" name="name" />
<br>
<input type="submit" value="submit" />

<%
String nm = request.getParameter("name");


String webAddress = request.getParameter("webAdd");
String dom = request.getParameter("domain");
URL newUrl = new URL("http://"+webAddress+"."+dom);
String url = newUrl.toString();
if(webAddress != null)
{
// Posible buscador de la anotacion digitada
response.setStatus(response.SC_MOVED_TEMPORARILY); 
response.setHeader("Location", url);

}
%>
<%
if(nm != null){
  out.println("The Header <b>" + nm + "</b> has been already set : "
     + response.containsHeader("Author")+"<br>");
     response.setHeader("Author", nm);
     out.println("Author : " + nm+"<br>");
     out.println("The Header <b>" + nm + "</b> has been already set : "
     + response.containsHeader("Author"));
} 
%>
</body>
</html>